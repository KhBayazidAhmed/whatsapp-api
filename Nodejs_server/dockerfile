FROM node:22.12-alpine3.21

WORKDIR /app

# Skip Chromium download for Puppeteer
ENV PUPPETEER_SKIP_DOWNLOAD=true

COPY htmlNidTemplate /app/htmlNidTemplate

COPY package*.json /app/
COPY tsconfig.json /app/tsconfig.json


RUN npm install

COPY src /app/src/

RUN npm run build

CMD ["node", "./dist/index.js"]
